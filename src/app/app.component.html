<!--The content below is only a placeholder and can be replaced.-->
<a
    class="ribbon"
    target="_blank"
    href="https://github.com/aurelienvernay/angular-photo-cropper"
    ><img
        width="149"
        height="149"
        src="https://github.blog/wp-content/uploads/2008/12/forkme_right_darkblue_121621.png?resize=149%2C149"
        class="attachment-full size-full"
        alt="Fork me on GitHub"
        data-recalc-dims="1"
/></a>

<div
    id="main-container"
    fxLayout="column"
    fxLayoutAlign="space-between center"
    fxLayoutGap="1em"
>
    <a href="https://aurelienvernay.github.io">
        <img src="./assets/logo.svg" height="250" height.lt-md="100" />
    </a>
    <h1>Exemple d'application web : <em>Photo Cropper</em></h1>
    <p>
        Utilisez l'interface pour charger une image et la redécouper selon vos
        besoins. Une fois l'image prête, appyuez sur <em>Enregistrer</em> pour
        sauvegarder une copie sur votre ordinateur.
    </p>
    <input
        id="fileInput"
        type="file"
        accept=".jpeg, .png, .gif, image/gif, image/png, image/jpeg"
        (change)="onFileUploaded($event)"
    />
    <mat-toolbar
        color="accent"
        fxLayout="row"
        fxLayoutAlign="space-around center"
    >
        <button mat-raised-button color="primary" (click)="loadPicture()">
            <mat-icon>photo</mat-icon> Charger une image
        </button>
        <div
            *ngIf="pictureLoaded"
            fxLayout="row"
            fxLayoutAlign="space-between center"
            fxLayoutGap="1em"
        >
            <mat-form-field>
                <input
                    matInput
                    type="text"
                    [(ngModel)]="filename"
                    placeholder="Nom du fichier"
                />
            </mat-form-field>
            <button
                mat-raised-button
                color="primary"
                (click)="rotateLeft()"
                matTooltip="Retourner vers la gauche (90°)"
            >
                <mat-icon>rotate_left</mat-icon>
            </button>
            <button
                mat-raised-button
                color="primary"
                (click)="rotateRight()"
                matTooltip="Retourner vers la droite (90°)"
            >
                <mat-icon>rotate_right</mat-icon>
            </button>
            <button
                mat-raised-button
                color="primary"
                (click)="toggleCropping()"
                matTooltip="Découper"
            >
                <mat-icon>crop</mat-icon>
            </button>
            <button
                mat-raised-button
                color="primary"
                (click)="saveFile()"
                matTooltip="Enregistrer"
            >
                <mat-icon>save</mat-icon>
            </button>
        </div>
    </mat-toolbar>

    <canvas [fxShow]="pictureLoaded" id="picture-canvas"></canvas>

    <a id="download-anchor" [download]="filename"></a>
    <p>
        Cette application a été réalisée avec le framework
        <a href="https://angular.io">Angular</a>, ainsi que les bibliothèques UI
        <a href="https://github.com/angular/flex-layout">Angular Flex Layout</a>
        et <a href="https://material.angular.io">Angular Material</a>.
    </p>
    <div class="footer text-muted">
        <img src="./assets/logo-mini.svg" height="32" />
        2019 - Fait par Aurélien VERNAY (visitez mon
        <a href="https://aurelienvernay.github.io">site web</a> pour en savoir
        plus)
    </div>
</div>
