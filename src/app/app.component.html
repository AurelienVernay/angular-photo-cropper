<!--The content below is only a placeholder and can be replaced.-->
<a
    class="ribbon"
    target="_blank"
    href="https://github.com/aurelienvernay/angular-photo-cropper"
    ><img
        width="149"
        height="149"
        src="https://github.blog/wp-content/uploads/2008/12/forkme_right_darkblue_121621.png?resize=149%2C149"
        class="attachment-full size-full"
        alt="Fork me on GitHub"
        data-recalc-dims="1"
/></a>

<div
    id="main-container"
    class="mat-app-background"
    fxLayout="column"
    fxLayoutAlign="space-between center"
    fxLayoutGap="1em"
>
    <a href="https://aurelienvernay.github.io">
        <img src="./assets/logo.svg" height="250" height.lt-md="100" />
    </a>
    <h1>Exemple d'application web : <em>Photo Cropper</em></h1>
    <p>
        Utilisez l'interface pour charger une image et l'éditer selon vos
        besoins. Une fois l'image prête,vous pouvez la sauvegarder sur votre
        ordinateur à l'aide du bouton <em>Enregistrer</em>
        <mat-icon>save</mat-icon>
    </p>
    <app-picture-loader
        *ngIf="!pictureLoaded; else drawingTemplate"
        (loading)="onLoading()"
        (loaded)="onLoaded()"
    ></app-picture-loader>
    <mat-spinner *ngIf="pictureLoading"></mat-spinner>

    <ng-template #drawingTemplate>
        <app-toolbar
            class="full-width"
            [(cropping)]="cropping"
            (rotate)="onRotate($event)"
            (saveFile)="onSaveFile($event)"
            [loading]="pictureLoading"
        ></app-toolbar>
    </ng-template>
    <div id="drawing-zone">
        <div id="cropper-overlay" [fxShow]="cropping">
            <div
                [ngStyle]="{
                    width: cropWrapperDimensions.width + 'px',
                    height: cropWrapperDimensions.height + 'px'
                }"
                id="crop-wrapper"
                cdkDrag
                [cdkDragDisabled]="!cropping"
                [cdkDragBoundary]="cropping ? '#drawing-zone' : null"
            >
                <div class="ne"></div>
                <div class="nw"></div>
                <div class="se"></div>
                <div class="sw"></div>
            </div>
        </div>
        <canvas [fxShow]="pictureLoaded" id="picture-canvas"></canvas>
    </div>
    <button *ngIf="cropping" mat-raised-button (click)="crop()">
        <mat-icon>crop</mat-icon>Recadrer
    </button>

    <a id="download-anchor" download="Image sans titre"></a>
    <app-footer class="full-width"></app-footer>
</div>
